const modals=document.querySelectorAll(".modal"),modalCloseButtons=document.querySelectorAll(".modal__close"),modalCart=document.querySelector(".modal-cart"),addToCartBtns=document.querySelectorAll(".btn--buy"),addToBookmarksBtns=document.querySelectorAll(".btn--bookmarks"),linkCart=document.querySelector(".user-nav__link--cart"),linkBookmarks=document.querySelector(".user-nav__link--bookmarks"),CLASSES={button:"btn",modal:"modal",modalActive:"modal--active",modalError:"modal--error",userLinkNotEmpty:"user-nav__link--has-items"},closeModal=o=>{o.classList.remove(CLASSES.modalActive),o.classList.remove(CLASSES.modalError)},showModal=o=>{o.classList.add(CLASSES.modalActive)};window.addEventListener("keydown",({keyCode:o})=>{27===o&&modals.forEach(o=>{o.classList.contains(CLASSES.modalActive)&&closeModal(o)})}),modalCloseButtons.forEach(o=>{o.addEventListener("click",()=>{closeModal(o.closest(`.${CLASSES.modal}`))})}),addToCartBtns.forEach(o=>{o.addEventListener("click",()=>{showModal(modalCart),linkCart.classList.add(CLASSES.userLinkNotEmpty)})}),addToBookmarksBtns.forEach(o=>{o.addEventListener("click",()=>{linkBookmarks.classList.add(CLASSES.userLinkNotEmpty)})}),modalCart.addEventListener("click",({target:o})=>{o.classList.contains(CLASSES.button)&&closeModal(modalCart)});
